# generated by fastapi-codegen:
#   filename:  ./ivoa/parcolar-0.1.yaml
#   timestamp: 2024-06-17T06:03:03+00:00

from __future__ import annotations

from enum import Enum
from typing import List, Optional

from pydantic import BaseModel


class AbstractSpecific(BaseModel):
    pass


class AbstractComputeResource(BaseModel):
    type: str
    name: Optional[str] = None
    spec: Optional[AbstractSpecific] = None


class AbstractStorageResource(BaseModel):
    type: str
    name: Optional[str] = None
    spec: Optional[AbstractSpecific] = None


class AbstractExecutable(BaseModel):
    type: str
    name: Optional[str] = None
    spec: Optional[AbstractSpecific] = None


class DelaySpecific(BaseModel):
    duration: Optional[int] = None


class PingSpecific(BaseModel):
    target: Optional[str] = None


class MinMaxInteger(BaseModel):
    min: Optional[int] = None
    max: Optional[int] = None
    units: Optional[str] = None


class Resources(BaseModel):
    compute: Optional[List[AbstractComputeResource]] = None
    storage: Optional[List[AbstractStorageResource]] = None


class ParcolarRequest(BaseModel):
    executable: Optional[AbstractExecutable] = None
    resources: Optional[Resources] = None


class ParcolarOffer(BaseModel):
    executable: Optional[AbstractExecutable] = None
    resources: Optional[Resources] = None


class Result(Enum):
    YES = 'YES'
    NO = 'NO'


class ParcolarResponse(BaseModel):
    result: Optional[Result] = None
    offers: Optional[List[ParcolarOffer]] = None


class DelayExecutable(AbstractExecutable):
    spec: Optional[DelaySpecific] = None


class PingExecutable(AbstractExecutable):
    spec: Optional[PingSpecific] = None


class SimpleComputeSpecific(BaseModel):
    cores: Optional[MinMaxInteger] = None
    memory: Optional[MinMaxInteger] = None


class SimpleStorageSpecific(BaseModel):
    size: Optional[MinMaxInteger] = None


class SimpleComputeResource(AbstractComputeResource):
    spec: Optional[SimpleComputeSpecific] = None


class SimpleStorageResource(AbstractStorageResource):
    spec: Optional[SimpleStorageSpecific] = None
